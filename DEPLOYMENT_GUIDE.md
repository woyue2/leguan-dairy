# ğŸš€ æ—¥è®°åº”ç”¨éƒ¨ç½²å®Œæ•´æŒ‡å—

## ğŸ“‹ éƒ¨ç½²å‰å‡†å¤‡

### 1. æ•°æ®ç›®å½•å‡†å¤‡ âœ…

å·²åœ¨ä½ çš„ WSL ç¯å¢ƒä¸­åˆ›å»ºï¼š

```bash
~/MyDiary/
â”œâ”€â”€ backup.sh       # å¤‡ä»½è„šæœ¬
â”œâ”€â”€ stats.sh        # ç»Ÿè®¡è„šæœ¬
â”œâ”€â”€ search.sh       # æœç´¢è„šæœ¬
â”œâ”€â”€ backup/         # å¤‡ä»½æ–‡ä»¶å¤¹
â”œâ”€â”€ export/         # å¯¼å‡ºæ–‡ä»¶å¤¹
â”œâ”€â”€ archive/        # å½’æ¡£æ–‡ä»¶å¤¹
â””â”€â”€ README.md       # ä½¿ç”¨è¯´æ˜
```

**ä¾¿æ·å‘½ä»¤**ï¼ˆå·²æ·»åŠ åˆ° ~/.bashrcï¼‰ï¼š
```bash
diary         # è¿›å…¥æ—¥è®°ç›®å½•
diary-backup  # å¤‡ä»½æ•°æ®
diary-stats   # æŸ¥çœ‹ç»Ÿè®¡
diary-ls      # åˆ—å‡ºæ•°æ®æ–‡ä»¶
```

### 2. æœåŠ¡å™¨ä¿¡æ¯

- **IP åœ°å€**: 172.245.142.4
- **ç«¯å£**: 3000
- **è®¿é—®åœ°å€**: http://172.245.142.4:3000

---

## ğŸ“¦ éƒ¨ç½²æ­¥éª¤

### Step 1: æ„å»º Docker é•œåƒ

```bash
cd /home/aa/Park/diary-app

# æ„å»ºé•œåƒ
docker build -t diary-app:latest .

# å¯¼å‡ºé•œåƒ
docker save diary-app:latest > diary-app.tar
```

### Step 2: ä¸Šä¼ åˆ°æœåŠ¡å™¨

```bash
# ä¸Šä¼ é•œåƒ
scp diary-app.tar root@172.245.142.4:/root/
```

### Step 3: æœåŠ¡å™¨ä¸Šéƒ¨ç½²

ç™»å½•æœåŠ¡å™¨ï¼š

```bash
ssh root@172.245.142.4
```

æ‰§è¡Œéƒ¨ç½²ï¼š

```bash
# 1. åŠ è½½é•œåƒ
docker load < diary-app.tar

# 2. åœæ­¢å¹¶åˆ é™¤æ—§å®¹å™¨ï¼ˆå¦‚æœå­˜åœ¨ï¼‰
docker stop diary-app 2>/dev/null || true
docker rm diary-app 2>/dev/null || true

# 3. è¿è¡Œæ–°å®¹å™¨
docker run -d \
  --name diary-app \
  -p 3000:3000 \
  --restart unless-stopped \
  diary-app:latest

# 4. éªŒè¯è¿è¡ŒçŠ¶æ€
docker ps | grep diary-app

# 5. æŸ¥çœ‹æ—¥å¿—ï¼ˆå¯é€‰ï¼‰
docker logs -f diary-app
```

### Step 4: æµ‹è¯•è®¿é—®

åœ¨æµè§ˆå™¨ä¸­è®¿é—®ï¼šhttp://172.245.142.4:3000

---

## ğŸ‘¤ ç”¨æˆ·é¦–æ¬¡ä½¿ç”¨å¼•å¯¼

### 1. è®¿é—®åº”ç”¨

æ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼šhttp://172.245.142.4:3000

### 2. å‡çº§åˆ°æ–‡ä»¶å­˜å‚¨

**åœ¨ WSL ä¸­æ‰“å¼€åº”ç”¨ï¼ˆæ¨èï¼‰**:

```bash
# Windows æ–‡ä»¶èµ„æºç®¡ç†å™¨ä¸­æ‰“å¼€
explorer.exe .

# ç„¶åç”¨æµè§ˆå™¨æ‰“å¼€
# http://172.245.142.4:3000
```

**æ“ä½œæ­¥éª¤**ï¼š

1. çœ‹åˆ° Header æ˜¾ç¤ºï¼š`æœ¬åœ°å­˜å‚¨ (ç‚¹å‡»å‡çº§åˆ°æ–‡ä»¶)`
2. **ç‚¹å‡»**è¿™æ®µæ–‡å­—ï¼ˆæ©™è‰²ï¼‰
3. **ç¡®è®¤**å¼¹çª—æç¤º
4. **é€‰æ‹©æ–‡ä»¶ä¿å­˜ä½ç½®**ï¼š

```
Windows æ–‡ä»¶å¯¹è¯æ¡†ï¼š
â”œâ”€â”€ å¯¼èˆªåˆ°: C:\Users\ä½ çš„ç”¨æˆ·å
â”œâ”€â”€ æˆ–è€…é€‰æ‹© WSL: \\wsl$\Ubuntu\home\aa\MyDiary
â””â”€â”€ æ–‡ä»¶å: diary.json
```

5. **å®Œæˆ**ï¼
6. Header å˜æˆç»¿è‰²ï¼š`æ–‡ä»¶: diary.json`

### 3. éªŒè¯ä¿å­˜

1. **å†™ä¸€ç¯‡æ—¥è®°**
2. **ç‚¹å‡»ä¿å­˜**
3. **æ£€æŸ¥æ–‡ä»¶**ï¼š

```bash
# WSL ä¸­
diary-ls

# æˆ–è€…
ls -lh ~/MyDiary/diary.json
```

---

## ğŸ”„ æ›´æ–°æµç¨‹

### æœ¬åœ°ï¼ˆWSLï¼‰

```bash
cd /home/aa/Park/diary-app

# åœæ­¢å¹¶åˆ é™¤æœ¬åœ°æµ‹è¯•å®¹å™¨
docker stop diary-app 2>/dev/null || true
docker rm diary-app 2>/dev/null || true

# é‡æ–°æ„å»º
docker build -t diary-app:latest .

# å¯¼å‡º
docker save diary-app:latest > diary-app.tar

# ä¸Šä¼ 
scp diary-app.tar root@172.245.142.4:/root/
```

### æœåŠ¡å™¨

```bash
ssh root@172.245.142.4

# åœæ­¢æ—§å®¹å™¨
docker stop diary-app
docker rm diary-app

# åŠ è½½æ–°é•œåƒ
docker load < diary-app.tar

# è¿è¡Œæ–°å®¹å™¨
docker run -d \
  --name diary-app \
  -p 3000:3000 \
  --restart unless-stopped \
  diary-app:latest
```

---

## ğŸ’¾ æ•°æ®ç®¡ç†

### å¤‡ä»½æ•°æ®

**æ–¹å¼1: ä½¿ç”¨å¤‡ä»½è„šæœ¬**

```bash
diary-backup

# è¾“å‡º:
# âœ… diary.json â†’ backup/diary-20260206_233800.json
# âœ… weekly.json â†’ backup/weekly-20260206_233800.json
# ğŸ§¹ å·²æ¸…ç† 30 å¤©å‰çš„æ—§å¤‡ä»½
# âœ¨ å¤‡ä»½å®Œæˆï¼
```

**æ–¹å¼2: æ‰‹åŠ¨å¤‡ä»½**

```bash
cd ~/MyDiary
cp diary.json backup/diary-$(date +%Y%m%d).json
```

### æŸ¥çœ‹ç»Ÿè®¡

```bash
diary-stats

# è¾“å‡º:
# ğŸ“Š æ—¥è®°æ•°æ®ç»Ÿè®¡
# â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
# ğŸ“” æ—¥è®°ç»Ÿè®¡
#    æ—¥è®°æ€»æ•°: 10 ç¯‡
#    æ€»å­—æ•°: 5234 å­—
#    æœ€æ–°æ—¥æœŸ: 2026-02-06
#
# ğŸ“– å‘¨è®°ç»Ÿè®¡
#    å‘¨è®°æ€»æ•°: 2 ç¯‡
```

### æœç´¢æ—¥è®°

```bash
cd ~/MyDiary
./search.sh å…³é”®è¯

# ç¤ºä¾‹:
./search.sh å¿«ä¹
```

---

## ğŸŒ å¤šè®¾å¤‡ä½¿ç”¨æ–¹æ¡ˆ

### æ–¹æ¡ˆ1: äº‘ç›˜åŒæ­¥ï¼ˆæ¨èï¼‰

**åšæœäº‘è®¾ç½®**:

1. å®‰è£…åšæœäº‘å®¢æˆ·ç«¯
2. åŒæ­¥æ–‡ä»¶å¤¹è®¾ç½®ä¸ºï¼š`C:\Users\ä½ çš„ç”¨æˆ·å\Nutstore\MyDiary`
3. å°† `~/MyDiary` çš„æ•°æ®ç§»åŠ¨åˆ°åŒæ­¥æ–‡ä»¶å¤¹
4. åœ¨åº”ç”¨ä¸­é‡æ–°é€‰æ‹©è¿™ä¸ªä½ç½®

**æ³¨æ„äº‹é¡¹**:
- âš ï¸ ä¸è¦åŒæ—¶åœ¨å¤šå°è®¾å¤‡ä¸Šç¼–è¾‘
- âœ… é€‚åˆå•äººä½¿ç”¨

### æ–¹æ¡ˆ2: Git ç‰ˆæœ¬æ§åˆ¶

```bash
cd ~/MyDiary

# åˆå§‹åŒ– Git
git init
git add diary.json weekly.json
git commit -m "Initial commit"

# åˆ›å»º GitHub ç§æœ‰ä»“åº“
git remote add origin https://github.com/your-username/my-diary.git
git branch -M main
git push -u origin main

# å®šæœŸæäº¤
git add diary.json weekly.json
git commit -m "update diary"
git push
```

---

## ğŸ› ï¸ æ•…éšœæ’æŸ¥

### é—®é¢˜1: æ‰¾ä¸åˆ° diary.json

**åŸå› **: è¿˜æ²¡æœ‰å‡çº§åˆ°æ–‡ä»¶å­˜å‚¨

**è§£å†³**:
1. è®¿é—® http://172.245.142.4:3000
2. ç‚¹å‡» Header ä¸­çš„"æœ¬åœ°å­˜å‚¨ (ç‚¹å‡»å‡çº§åˆ°æ–‡ä»¶)"
3. é€‰æ‹©ä¿å­˜ä½ç½®

### é—®é¢˜2: åˆ·æ–°åæ•°æ®ä¸¢å¤±

**åŸå› **: å¯èƒ½è¿˜åœ¨ä½¿ç”¨ localStorage

**æ£€æŸ¥**:
```bash
# Header åº”è¯¥æ˜¾ç¤ºç»¿è‰²
# æ–‡ä»¶: diary.json

# å¦‚æœæ˜¯æ©™è‰²ï¼Œéœ€è¦é‡æ–°å‡çº§
```

### é—®é¢˜3: æ–‡ä»¶å¥æŸ„å¤±æ•ˆ

**åŸå› **: æ–‡ä»¶è¢«åˆ é™¤æˆ–ç§»åŠ¨

**è§£å†³**:
1. æ¸…é™¤æµè§ˆå™¨ IndexedDB
2. é‡æ–°é€‰æ‹©æ–‡ä»¶ä½ç½®

**Chrome/Edge**:
```
å¼€å‘è€…å·¥å…· â†’ Application â†’ IndexedDB â†’ DiaryAppDB â†’ åˆ é™¤
```

### é—®é¢˜4: æ— æ³•è®¿é—®æœåŠ¡å™¨

**æ£€æŸ¥**:
```bash
# æœåŠ¡å™¨ä¸Š
docker ps | grep diary-app
docker logs diary-app

# æœ¬åœ°æµ‹è¯•
curl http://172.245.142.4:3000
```

---

## ğŸ“Š éƒ¨ç½²æ£€æŸ¥æ¸…å•

### æœåŠ¡å™¨ç«¯
- [ ] Docker å·²å®‰è£…
- [ ] é•œåƒå·²ä¸Šä¼ 
- [ ] å®¹å™¨æ­£åœ¨è¿è¡Œ
- [ ] ç«¯å£ 3000 å·²å¼€æ”¾
- [ ] é˜²ç«å¢™è§„åˆ™å·²é…ç½®

### å®¢æˆ·ç«¯
- [ ] å·²è®¿é—®åº”ç”¨
- [ ] å·²å‡çº§åˆ°æ–‡ä»¶å­˜å‚¨
- [ ] å·²åˆ›å»º diary.json
- [ ] å·²æµ‹è¯•ä¿å­˜åŠŸèƒ½
- [ ] å·²è®¾ç½®å¤‡ä»½æ–¹æ¡ˆ

### æ•°æ®å®‰å…¨
- [ ] å¤‡ä»½è„šæœ¬å¯ç”¨
- [ ] å®šæœŸå¤‡ä»½å·²è®¾ç½®
- [ ] äº‘åŒæ­¥å·²é…ç½®ï¼ˆå¯é€‰ï¼‰
- [ ] README æ–‡æ¡£å·²é˜…è¯»

---

## ğŸ“ æŠ€æœ¯æ”¯æŒ

### åº”ç”¨ä¿¡æ¯
- **åº”ç”¨åç§°**: æ™ºèƒ½æ—¥è®°æœ¬
- **ç‰ˆæœ¬**: 1.0.0
- **æŠ€æœ¯æ ˆ**: Docker + Nginx + File System API

### æ•°æ®æ ¼å¼
- **æ—¥è®°**: `diary.json` (JSON æ•°ç»„)
- **å‘¨è®°**: `weekly.json` (JSON æ•°ç»„)

### ç›¸å…³æ–‡æ¡£
- `QUICKSTART.md` - å¿«é€Ÿå¼€å§‹
- `IMPLEMENTATION_COMPLETE.md` - å®Œæ•´å®ç°æ–‡æ¡£
- `FILE_STORAGE_GUIDE.md` - å­˜å‚¨æŒ‡å—
- `DATA_STORAGE_DESIGN.md` - æ•°æ®å­˜å‚¨è®¾è®¡

---

## âœ¨ å®Œæˆï¼

ç°åœ¨ä½ çš„æ—¥è®°åº”ç”¨å·²ç»éƒ¨ç½²å®Œæˆå¹¶å¯ä»¥ä½¿ç”¨äº†ï¼

**å¿«é€Ÿå¼€å§‹**:
1. è®¿é—® http://172.245.142.4:3000
2. å‡çº§åˆ°æ–‡ä»¶å­˜å‚¨
3. å¼€å§‹å†™æ—¥è®°

**å®šæœŸå¤‡ä»½**:
```bash
diary-backup
```

ç¥ä½ ä½¿ç”¨æ„‰å¿«ï¼ğŸ‰
